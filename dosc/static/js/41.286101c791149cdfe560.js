webpackJsonp([41],{CBh0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),l=i.n(n),a=i("HBqq"),s=i("NYxO");e.default={props:["num"],data:function(){return{rules:{gene:[{required:!0,message:"请输入基因名称",trigger:"blur"}],sjCode:[{required:!0,message:"请输入三济基因名称",trigger:"blur"}]},id:void 0,nameid:{},setAdmin:{},form:{gene:"",sjCode:""},updataform:{},topic:null,list:null,listAll:{},total:null,listLoading:!1,listQuery:{page:1,limit:10},listQueryAll:{mainTopicName:"",subTopicName:"",useTarget:"",topicTpye:""},sexOptions:["男","女"],dialogFormVisible:!1,dialogStatus:"",userManager_btn_edit:!1,userManager_btn_del:!1,userManager_btn_add:!1,textMap:{update:"编辑",create:"创建"},tableKey:0}},created:function(){this.getList(this.num),this.userManager_btn_edit=this.elements["userManager:btn_edit"],this.userManager_btn_del=this.elements["userManager:btn_del"],this.userManager_btn_add=this.elements["userManager:btn_add"]},computed:l()({},i.i(s.b)(["elements"])),watch:{num:function(t){this.getList(t),this.listAll=t}},methods:{getList:function(t){var e=this;this.listAll=t,this.listLoading=!0,this.listQuery.subTopicId=t.id,i.i(a.a)(this.listQuery).then(function(t){e.list=t.data.rows,e.total=t.data.total,e.listLoading=!1})},handleFilter:function(){var t=this;this.listLoading=!0;for(var e in this.listQueryAll)this.listQueryAll[e]?this.listQuery[e]=this.listQueryAll[e]:delete this.listQuery[e];i.i(a.a)(this.listQuery).then(function(e){t.list=e.data.data.rows,t.total=e.data.data.total,t.listLoading=!1})},handleCreate:function(t){var e=this;this.form.subTopicId=this.listAll.id,this.$refs[t].validate(function(t){if(!t)return!1;i.i(a.b)(e.form).then(function(){e.getList(e.listAll),e.form.gene="",e.form.sjCode="",e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})})},handleUpdate:function(t){this.dialogStatus="update",this.form.subTopicId=this.listAll.id,this.form.id=t.id,this.form.gene=t.gene,this.form.sjCode=t.sjCode},update:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;i.i(a.c)(e.form).then(function(){e.getList(e.listAll),e.handle(),e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})})},handle:function(){this.dialogStatus="",this.form={}},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.i(a.d)({id:t.id}).then(function(){e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),e.getList(e.listAll)})})},cancel:function(t){this.dialogFormVisible=!1,this.$refs[t].resetFields()}}}},HBqq:function(t,e,i){"use strict";function n(t){return i.i(o.a)({url:"/api/admin/gdbTopicGene/queryTopicGeneList",method:"post",params:t})}function l(t){return i.i(o.a)({url:"/api/admin/gdbTopicGene/saveTopicGene",method:"post",headers:{"Content-type":"application/json"},data:t})}function a(t){return i.i(o.a)({url:"/api/admin/gdbTopicGene/deleteTopicGene",method:"delete",headers:{"Content-type":"application/json"},data:t})}function s(t){return i.i(o.a)({url:"/api/admin/gdbTopicGene/updateTopicGene",method:"put",headers:{"Content-type":"application/json"},data:t})}e.a=n,e.b=l,e.d=a,e.c=s;var o=i("Vo7i")},Qbnd:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container calendar-list-container"},[i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("\n    主课题 "),i("el-input",{staticStyle:{width:"140px","margin-right":"50px"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:t.listAll.mainTopicName,callback:function(e){t.listAll.mainTopicName=e},expression:"listAll.mainTopicName"}}),t._v("\n    子课题 "),i("el-input",{staticStyle:{width:"140px","margin-right":"50px"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:t.listAll.subTopicName,callback:function(e){t.listAll.subTopicName=e},expression:"listAll.subTopicName"}}),t._v("\n    药物/病种 "),i("el-input",{staticStyle:{width:"140px"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:t.listAll.medicine,callback:function(e){t.listAll.medicine=e},expression:"listAll.medicine"}})],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:t.tableKey,attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"序号",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"200",align:"center",label:"基因编码"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.gene))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"180",align:"center",label:"三济基因编码"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.sjCode))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"180",align:"center",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.crtTime))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"180",align:"center",label:"修改时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.updTime))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(i){t.handleUpdate(e.row)}}},[t._v("编辑\n        ")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){t.handleDelete(e.row)}}},[t._v("删除\n        ")])]}}])})],1),t._v(" "),i("div",{staticStyle:{display:"flex"}},[i("el-form",{ref:"form",staticStyle:{display:"flex","margin-top":"10px"},attrs:{model:t.form,rules:t.rules}},[i("el-form-item",{staticStyle:{display:"flex"},attrs:{label:"基因名称",prop:"gene"}},[i("el-input",{staticStyle:{width:"160px","margin-right":"50px"},attrs:{placeholder:"请输入基因名称"},model:{value:t.form.gene,callback:function(e){t.form.gene=e},expression:"form.gene"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex"},attrs:{label:"三济基因名称",width:"100px;",prop:"sjCode"}},[i("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入三济基因名称"},model:{value:t.form.sjCode,callback:function(e){t.form.sjCode=e},expression:"form.sjCode"}})],1)],1),t._v(" "),i("div",["update"!==t.dialogStatus?i("el-button",{staticStyle:{"margin-left":"50px","margin-top":"10px"},attrs:{type:"primary",icon:"edit"},on:{click:function(e){t.handleCreate("form")}}},[t._v("添加")]):i("el-button",{staticStyle:{"margin-left":"50px","margin-top":"10px"},attrs:{type:"success",icon:"edit"},on:{click:function(e){t.update("form")}}},[t._v("编辑")]),t._v(" "),"update"===t.dialogStatus?i("el-button",{staticStyle:{"margin-left":"50px","margin-top":"10px"},attrs:{type:"success",plain:""},on:{click:t.handle}},[t._v("取消编辑")]):t._e()],1)],1)],1)},staticRenderFns:[]}},oTPP:function(t,e,i){var n=i("VU/8")(i("CBh0"),i("Qbnd"),null,null,null);t.exports=n.exports}});